<link rel="import" href="/sys/polymer/polymer.html">
<link rel="import" href="/sys/sgb-property-metadata/sgb-property-metadata.html" />

<template>
    <template is="dom-bind">
        <!-- Non-visual element, therefore doesn't need a slot -->
        <sgb-property-metadata items="{{model.PropertyMetadataItems}}"></sgb-property-metadata>
        <div slot="SignIn/auth-settings-message">
            <template is="dom-if" if="{{model.Message}}">
                <p class="alert alert-danger">{{model.Message}}</p>
            </template>
        </div>

        <h3 slot="SignIn/auth-settings-headline">Authentication settings</h3>

        <button slot="SignIn/auth-settings-new-pass" class="btn btn-default btn-sm" onmousedown="++this.value;" value="{{model.NewPasswordClick$::click}}">Set New Password</button>
        <button slot="SignIn/auth-settings-reset-pass" class="btn btn-default btn-sm" disabled$="{{!model.ResetPassword_Enabled}}" onmousedown="++this.value;" value="{{model.ResetPassword$::click}}">Reset Password</button>

        <template is="dom-if" if="{{model.NewPasswordClick$}}">
            <starcounter-include slot="SignIn/auth-settings-new-pass-page" partial="{{model.UserPassword}}"></starcounter-include>
        </template>
    </template>
    <template is="declarative-shadow-dom">
        <style>
            .signin-auth-settings {
                margin-top: 2em;
            }
        </style>
        <div class="signin-auth-settings">
            <slot name="SignIn/auth-settings-message"></slot>
        </div>
        <slot name="SignIn/auth-settings-headline"></slot>
        <slot name="SignIn/auth-settings-new-pass"></slot>
        <slot name="SignIn/auth-settings-reset-pass"></slot>
        <slot name="SignIn/auth-settings-new-pass-page"></slot>
    </template>
</template>