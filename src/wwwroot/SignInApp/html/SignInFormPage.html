<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html" />
<template>
    <h1>Sign-in</h1>
    <template if="{{IsSignedIn == false}}">
        <div class="launcher-labeled-input">
            <input id="Username$" type="text" value="{{ Username$ }}" placeholder="<Username>" />
            <label for="Username$">Username</label>
        </div>
        <div class="launcher-labeled-input">
            <input id="Password$" type="password" value="{{ Password$ }}" placeholder="<Password>" />
            <label for="Password$">Password</label>
        </div>
        <template if="{{Message}}">
            <p style="margin:0px; background:red; color:white;">{{Message}}</p>
        </template>
        <button class="launcher-button" onclick="document.querySelector('puppet-client').network.changeState('/signinapp/signin/' + getModel(this).Username$ + '/' + getModel(this).Password$)">Sign in</button>
    </template>
    <template if="{{IsSignedIn == true}}">
        <p>You are already signed in!</p>
        <div>
            <button class="launcher-button" onclick="document.querySelector('puppet-client').network.changeState('/signinapp/signout')">Sign out</button>
        </div>
    </template>
    <link is="puppet-redirect" history url="{{ RedirectUrl }}" />
</template>
