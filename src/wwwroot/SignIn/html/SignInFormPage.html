<link rel="stylesheet" href="/sys/bootstrap/dist/css/bootstrap-paper.css" />
<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html" />
<template>
    <h2>Sign-in</h2>
    <template if="{{IsSignedIn == false}}">
        <template if="{{Message}}">
            <p class="alert alert-danger">{{Message}}</p>
        </template>
        <div class="form-horizontal">
            <label class="control-label">Username</label>
        </div>
        <div>
            <input id="Username$" type="text" value="{{ Username$ }}" placeholder="Username" class="form-control" />
        </div>
        <div class="form-horizontal">
            <label for="Password$">Password</label>
        </div>
        <div>
            <input id="Password$" type="password" value="{{ Password$ }}" placeholder="Password" class="form-control" />
        </div>
        <div>
            <button class="btn btn-primary" onclick="document.querySelector('puppet-client').network.changeState('/signin/signin/' + getModel(this).Username$ + '/' + getModel(this).Password$)">Sign in</button>
        </div>
    </template>
    <template if="{{IsSignedIn == true}}">
        <p class="alert alert-success">You are already signed in!</p>
        <div>
            <button class="btn btn-primary" onclick="document.querySelector('puppet-client').network.changeState('/signin/signout')">Sign out</button>
        </div>
    </template>
    <link is="puppet-redirect" history url="{{ RedirectUrl }}" />
</template>
